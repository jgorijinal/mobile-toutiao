"use strict";(self["webpackChunktoutiao_m"]=self["webpackChunktoutiao_m"]||[]).push([[903],{2903:function(t,s,a){a.r(s),a.d(s,{default:function(){return u}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"my-container"},[t.$store.state.user.user?t._e():s("div",{staticClass:"header not-login"},[s("div",{staticClass:"login-btn",on:{click:function(s){return t.$router.push("/login")}}},[s("div",{staticClass:"icon-wrapper"},[s("van-icon",{attrs:{name:"manager",size:"40px",color:"#2a4363"}})],1),s("span",{staticClass:"text"},[t._v("登录 / 注册")])])]),t.$store.state.user.user?s("div",{staticClass:"user-info"},[s("div",{staticClass:"base-info"},[s("div",{staticClass:"left"},[s("van-image",{staticClass:"avatar",attrs:{fit:"cover",round:"",src:t.userInfo.photo}}),s("span",{staticClass:"name"},[t._v(t._s(t.userInfo.name))])],1),s("div",{staticClass:"right"},[s("van-button",{attrs:{size:"mini",round:"",to:"/user-profile"}},[t._v("编辑资料")])],1)]),s("div",{staticClass:"data-status"},[s("div",{staticClass:"data-item"},[s("div",{staticClass:"count"},[t._v(t._s(t.userInfo.art_count))]),s("div",{staticClass:"text"},[t._v("头条")])]),s("div",{staticClass:"data-item"},[s("div",{staticClass:"count"},[t._v(t._s(t.userInfo.follow_count))]),s("div",{staticClass:"text"},[t._v("关注")])]),s("div",{staticClass:"data-item"},[s("div",{staticClass:"count"},[t._v(t._s(t.userInfo.fans_count))]),s("div",{staticClass:"text"},[t._v("粉丝")])]),s("div",{staticClass:"data-item"},[s("div",{staticClass:"count"},[t._v(t._s(t.userInfo.like_count))]),s("div",{staticClass:"text"},[t._v("获赞")])])])]):t._e(),s("van-grid",{attrs:{"column-num":2,clickable:""}},[s("van-grid-item",{attrs:{icon:"star-o",text:"收藏"}}),s("van-grid-item",{attrs:{icon:"clock-o",text:"历史"}})],1),s("van-cell-group",[s("van-cell",{attrs:{title:"消息通知","is-link":"",icon:"comment-o"}}),s("van-cell",{attrs:{title:"小智同学","is-link":"",icon:"service"}})],1),t.$store.state.user.user?s("van-button",{staticStyle:{"margin-top":"10px"},attrs:{block:""},on:{click:t.logout}},[t._v("退出登录")]):t._e()],1)},e=[],n=a(2900),o={data(){return{userInfo:{}}},created(){this.$store.state.user.user&&this.getUserInfo()},methods:{logout(){this.$dialog.confirm({title:"提示",message:"确定要退出登录吗?"}).then((()=>{this.$store.dispatch("user/logoutAction"),this.$toast.success("成功退出登录")})).catch((t=>{console.log(t)}))},async getUserInfo(){const{data:t}=await(0,n.bG)();this.userInfo=t}}},c=o,r=a(1001),l=(0,r.Z)(c,i,e,!1,null,"04ce8b44",null),u=l.exports}}]);
//# sourceMappingURL=903.91963723.js.map